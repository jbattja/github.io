"use strict";(self.webpackChunk_open_fabric_developer_docs=self.webpackChunk_open_fabric_developer_docs||[]).push([[9432],{28453(e,n,i){i.d(n,{R:()=>o,x:()=>s});var t=i(96540);const a={},c=t.createContext(a);function o(e){const n=t.useContext(c);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),t.createElement(c.Provider,{value:n},e.children)}},88955(e,n,i){i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>l,default:()=>u,frontMatter:()=>s,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"AccountTokenization/OwnAppTokens/LifeCycleManagement","title":"Own App Tokens","description":"Manage the lifecycle of secure device wallets","source":"@site/docs/AccountTokenization/OwnAppTokens/LifeCycleManagement.md","sourceDirName":"AccountTokenization/OwnAppTokens","slug":"/AccountTokenization/OwnAppTokens/LifeCycleManagement","permalink":"/github.io/docs/AccountTokenization/OwnAppTokens/LifeCycleManagement","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"Account Tokenization","permalink":"/github.io/docs/tags/account-tokenization"},{"inline":true,"label":"Own App Tokens","permalink":"/github.io/docs/tags/own-app-tokens"},{"inline":true,"label":"NFC","permalink":"/github.io/docs/tags/nfc"},{"inline":true,"label":"Tap and Pay","permalink":"/github.io/docs/tags/tap-and-pay"}],"version":"current","frontMatter":{"title":"Own App Tokens","tags":["Account Tokenization","Own App Tokens","NFC","Tap and Pay"]},"sidebar":"someSidebar","previous":{"title":"Card activation and setting preference","permalink":"/github.io/docs/AccountTokenization/OwnAppTokens/ActivationPreferenceSettings"},"next":{"title":"Handle Tap and Pay transactions","permalink":"/github.io/docs/AccountTokenization/OwnAppTokens/TransactionInitiation"}}');var a=i(74848),c=i(28453);const o=i.p+"assets/images/diagram-sdw-lifecycle-3df172c9194361568dbd925bbfcf5f25.png",s={title:"Own App Tokens",tags:["Account Tokenization","Own App Tokens","NFC","Tap and Pay"]},l="Lifecycle management",r={},d=[{value:"Manage the lifecycle of secure device wallets",id:"manage-the-lifecycle-of-secure-device-wallets",level:2},{value:"Lock a secure device wallet",id:"lock-a-secure-device-wallet",level:3},{value:"Unlock secure device wallet",id:"unlock-secure-device-wallet",level:3},{value:"Delete secure device wallet",id:"delete-secure-device-wallet",level:3},{value:"Token update and transaction notifications",id:"token-update-and-transaction-notifications",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"lifecycle-management",children:"Lifecycle management"})}),"\n",(0,a.jsx)(n.h2,{id:"manage-the-lifecycle-of-secure-device-wallets",children:"Manage the lifecycle of secure device wallets"}),"\n",(0,a.jsx)(n.p,{children:"Open Fabric provides ways by which you can manage the lifecycle of secure device wallets (and associated Own App Tokens). These capabilities give you the ability to lock/unlock/delete secure device wallets, which could help you manage your risk effectively."}),"\n",(0,a.jsx)(n.p,{children:"The diagram below describes the secure device wallet states."}),"\n",(0,a.jsx)("img",{src:o,alt:"Secure device wallet lifecycle"}),"\n",(0,a.jsx)(n.h3,{id:"lock-a-secure-device-wallet",children:"Lock a secure device wallet"}),"\n",(0,a.jsx)(n.p,{children:"You can lock a secure device wallet when you want to temporarily block payments and other functionalities of the wallet."}),"\n",(0,a.jsx)(n.p,{children:"When a secure device wallet lock is initiated, the following process occurs:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"If the secure device wallet contains NFC payment cryptograms, they are suspended."}),"\n",(0,a.jsx)(n.li,{children:"The secure device wallet is also blocked in our backend from performing any operations."}),"\n",(0,a.jsx)(n.li,{children:"When the lock is initiated from your back office, we have the ability to send a secure push notification to immediately erase all sensitive data (payment cryptograms)."}),"\n"]}),"\n",(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsx)(n.p,{children:"Even in the scenario where the push notification is not received by the secure device wallet real-time because the SDK is not accessible, our SDK is set up to retry connecting to our backend and as soon as it successfully connects, it will start the locking procedure."})}),"\n",(0,a.jsx)(n.p,{children:"There are two ways to lock a secure device wallet:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"customer lock: the locking action happens through the customer's device"}),"\n",(0,a.jsx)(n.li,{children:"back office lock: the locking action happens by your back office through a server-to-server API call"}),"\n"]}),"\n",(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsx)(n.p,{children:"Please note that a locked secure device wallet can only be unlocked by your back office"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Customer Lock"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-kotlin",children:"walletManager.lock(reason);\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Back office lock"})}),"\n",(0,a.jsxs)(n.p,{children:["Call the ",(0,a.jsx)(n.a,{href:"/apis#tag/Manage-Secure-Device-Wallets/operation/NfcLockWallet",children:"Lock API"})," with a ",(0,a.jsx)(n.code,{children:"reason"})," and ",(0,a.jsx)(n.code,{children:"reason_code"}),", for example:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\r\n    "reason_code": "suspected_fraud",\r\n    "reason": "Requested by fraud team"\r\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"unlock-secure-device-wallet",children:"Unlock secure device wallet"}),"\n",(0,a.jsx)(n.p,{children:"The secure device wallet unlock should be initiated to resume the functionality of a locked wallet."}),"\n",(0,a.jsx)(n.p,{children:"Secure device wallets can be unlocked only from the back office. On unlock, a push message is sent to the device to inform of its new status."}),"\n",(0,a.jsxs)(n.p,{children:["Call the ",(0,a.jsx)(n.a,{href:"/apis#tag/Manage-Secure-Device-Wallets/operation/NfcUnlockWallet",children:"Unlock API"})," with a ",(0,a.jsx)(n.code,{children:"reason"})," and ",(0,a.jsx)(n.code,{children:"reason_code"}),", for example:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\r\n    "reason_code": "not_fraud",\r\n    "reason": "Customer has been verified by fraud team"\r\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"delete-secure-device-wallet",children:"Delete secure device wallet"}),"\n",(0,a.jsx)(n.p,{children:"The secure device wallet delete should be initiated when you decide to delete a secure device wallet."}),"\n",(0,a.jsx)(n.admonition,{type:"warning",children:(0,a.jsx)(n.p,{children:"A secure device wallet deletion cannot be undone"})}),"\n",(0,a.jsx)(n.p,{children:'A deleted secure device wallet behaves as a locked one except that all information is wiped from the device and cannot be "undeleted".'}),"\n",(0,a.jsx)(n.p,{children:"There are 2 ways to delete a secure device wallet:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"customer delete: the delete action happens through the customer's device"}),"\n",(0,a.jsx)(n.li,{children:"back office delete: the delete action happens by your back office through a server-to-server API call"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Customer Delete"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-kotlin",children:"walletManager.delete(reason);\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Back office delete"})}),"\n",(0,a.jsxs)(n.p,{children:["Call the ",(0,a.jsx)(n.a,{href:"/apis#tag/Manage-Secure-Device-Wallets/operation/DeleteNfcWallet",children:"Delete API"})," with a ",(0,a.jsx)(n.code,{children:"reason"})," and ",(0,a.jsx)(n.code,{children:"reason_code"}),", for example:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\r\n    "reason_code": "device_stolen",\r\n    "reason": "Requested by fraud team"\r\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"token-update-and-transaction-notifications",children:"Token update and transaction notifications"}),"\n",(0,a.jsx)(n.p,{children:"Open Fabric can send you the following notifications based on updates within a secure device wallet:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"/apis#tag/Token-Update-Notifications/operation/tokenActivatedNotification",children:"Token activated notification"}),": This notification is sent when an account or card was successfully tokenized and activated in the secure device wallet"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"/apis#tag/Token-Update-Notifications/operation/tokenSuspendedNotification",children:"Token suspended notification"}),": This notification is sent when the tokenized account or card is suspended in the secure device wallet"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"/apis#tag/Token-Update-Notifications/operation/tokenDeletedNotification",children:"Token deleted notification"}),": This notification is sent when the tokenized account or card is deleted from the secure device wallet."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"/apis#tag/Token-Update-Notifications/operation/transactionAuthorizationNotification",children:"Transaction authorization notification"}),": This notification is sent when a transaction is authorized within the secure device wallet"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}}}]);